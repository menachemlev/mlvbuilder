(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{20:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(10),r=n.n(i),o=(n(27),n(28),n(4)),a=n(11),l=n(3),s=(n.p,n(2)),u=n(0),d=Object(c.createContext)({loggedIn:!1,email:"",password:"",name:"",logIn:function(e){e.email,e.password,e.name},logOut:function(){},fetchProviderURL:""}),b=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),i=n[0],r=n[1],o=Object(c.useState)(""),a=Object(s.a)(o,2),l=a[0],b=a[1],j=Object(c.useState)(""),h=Object(s.a)(j,2),f=h[0],m=h[1],p=Object(c.useState)(""),O=Object(s.a)(p,2),g=O[0],v=O[1],x="http://localhost:8000";Object(c.useEffect)((function(){if(void 0!==typeof localStorage&&localStorage.getItem("loginData")){var e=JSON.parse(localStorage.getItem("loginData")),t=e.email,n=e.password,c=e.name,i=e.date;if(Date.now()>i+7776e6)return E();fetch("".concat(x,"/users/auto-login"),{method:"POST",body:JSON.stringify({email:t,password:n}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong...");return e.json()})).then((function(e){return w({email:t,password:n,name:c})})).catch((function(e){console.error(e)}))}}),[]);var w=function(e){var t=e.email,n=e.password,c=e.name;v(c),b(t),m(n),r(!0),void 0!==typeof localStorage&&localStorage.setItem("loginData",JSON.stringify({email:t,password:n,name:c,date:Date.now()}))},E=function(){b(""),m(""),v(""),localStorage.removeItem("loginData"),r(!1)};return Object(u.jsx)(d.Provider,{value:{loggedIn:i,logIn:w,logOut:E,email:l,password:f,name:g,fetchProviderURL:x},children:e.children})},j=d;n(30);var h=function(e){var t=Object(c.useContext)(j);return Object(c.useEffect)((function(){Object(a.a)(document.querySelectorAll("#signature path")).forEach((function(e,t){setTimeout((function(){e.style.strokeWidth="4"}),t/10)}))}),[]),Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)("h1",{children:t.loggedIn?"Welcome back ".concat(t.name||""):"Build your website"}),Object(u.jsx)("h2",{children:t.loggedIn?"Start building your website":"Easy, fast & free"}),Object(u.jsx)(l.b,{to:t.loggedIn?"/builder":"/login",children:Object(u.jsxs)("button",{children:[t.loggedIn?"Builder":"Login",Object(u.jsx)("span",{children:" >"})]})})]})},f=(n(36),n.p+"static/media/logo.f737a029.png");var m=function(e){var t=Object(c.useContext)(j).loggedIn,n=Object(c.useState)(window.innerHeight>window.innerWidth),i=Object(s.a)(n,2),r=i[0],o=i[1];return Object(c.useEffect)((function(){setInterval((function(){o(window.innerHeight>window.innerWidth)}),2e3)}),[]),Object(u.jsxs)("header",{className:"header ".concat(r?"header_on_portrait":""),children:[Object(u.jsxs)("div",{className:"navigator",children:[!r&&Object(u.jsx)(l.c,{className:"link",activeClassName:"active",to:"/",exact:!0,children:"\ud83c\udfe0"}),Object(u.jsx)(l.c,{className:"link",activeClassName:"active",to:"/about",children:"About"}),!t&&Object(u.jsx)(l.c,{className:"link",activeClassName:"active",to:"/Login",children:"Login"}),t&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.c,{className:"link",activeClassName:"active",to:"/websites-list",children:"".concat(r?"List":"Websites List")}),Object(u.jsx)(l.c,{className:"link",activeClassName:"active",to:"/account",children:"Account"}),Object(u.jsx)(l.c,{className:"link",activeClassName:"active",to:"/builder",children:"Builder"})]})]}),Object(u.jsx)("div",{className:"logo-box",children:Object(u.jsx)(l.c,{to:"/",children:Object(u.jsx)("img",{className:"logo",style:{width:"".concat(r?"3rem":"1.5rem"),margin:"".concat(r?"2rem 0 0 0":" 0 2rem 0 0")},alt:"",src:f})})})]})},p=n.p+"static/media/logo.f737a029.png",O=n.p+"static/media/phone.5d16e029.png",g=n.p+"static/media/whatsapp.651ccec2.png",v=n.p+"static/media/github.96997ac2.png";n(37);var x=function(e){return Object(u.jsxs)("div",{className:"about",children:[Object(u.jsx)("h1",{className:"pageTitle",children:"About"}),Object(u.jsxs)("div",{className:"about__main",children:[Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris id felis urna. Phasellus congue, lorem nec efficitur mattis, elit mauris tincidunt arcu, a porttitor erat ipsum id nibh. Nunc laoreet erat et erat iaculis, ut imperdiet risus vehicula. Donec tempus, ligula quis consequat vestibulum, elit elit bibendum justo, ut egestas purus quam vel tortor. Morbi placerat purus egestas mauris feugiat condimentum. Nulla molestie ipsum sed quam ullamcorper, sit amet pellentesque justo fringilla. Curabitur nec iaculis lectus. Cras viverra quis urna sed varius. Suspendisse ac eros felis. Proin consectetur ante id diam iaculis, eu lacinia mauris venenatis. Mauris tempor odio et tincidunt mattis. Cras lectus justo, pellentesque ac mi sed, sollicitudin interdum tellus."}),Object(u.jsx)("img",{src:p,alt:""}),Object(u.jsxs)("div",{className:"about__main__contact",children:[Object(u.jsx)("div",{className:"about__main__contact-phone",children:Object(u.jsx)("img",{src:O,alt:""})}),Object(u.jsx)("div",{className:"about__main__contact-whatsapp",children:Object(u.jsx)("img",{src:g,alt:""})}),Object(u.jsx)("div",{className:"about__main__contact-github",children:Object(u.jsx)("img",{src:v,alt:""})})]})]})]})};n(20);var w=function(e){var t=Object(c.useContext)(j),n=Object(o.f)(),i=Object(c.useState)(!1),r=Object(s.a)(i,2),a=r[0],l=r[1],d=Object(c.useState)(!1),b=Object(s.a)(d,2),h=b[0],f=b[1],m=Object(c.useState)(!1),p=Object(s.a)(m,2),O=p[0],g=p[1],v=Object(c.useState)(!1),x=Object(s.a)(v,2),w=x[0],E=x[1],y=Object(c.useState)(""),S=Object(s.a)(y,2),k=S[0],_=S[1],N=Object(c.useState)(""),C=Object(s.a)(N,2),T=C[0],R=C[1],L=Object(c.useRef)(null),P=Object(c.useRef)(null),D=function(){g(!0);l(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(L.current.value))};return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("".concat(t.fetchProviderURL,"/users/login"),{method:"POST",body:JSON.stringify({email:L.current.value,password:P.current.value}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong...");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);var c=e.name;t.logIn({email:L.current.value,password:P.current.value,name:c}),_("You successfully logged in! Redirecting..."),setTimeout((function(){n.push("/")}),1e3)})).catch((function(e){R(e.message)}))},children:[Object(u.jsxs)("div",{children:[" ",Object(u.jsx)("label",{htmlFor:"emailInput",onChange:D,required:!0,children:"*Your email"}),Object(u.jsx)("input",{className:"".concat(!a&&O?"invalid":""),ref:L,id:"emailInput",type:"email",placeholder:"Your E-mail",onChange:D})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{for:"passwordInput",children:"*Password"}),Object(u.jsx)("input",{className:"\n            ".concat(!h&&w?"invalid":"","\n          "),ref:P,id:"passwordInput",onChange:function(){E(!0),f(P.current.value.length>=8)},type:"password",required:!0})]}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Sign in"})}),Object(u.jsx)("div",{children:k}),Object(u.jsx)("div",{style:{color:"red"},children:T})]})};var E=function(e){var t=Object(o.f)(),n=Object(c.useContext)(j),i=Object(c.useState)(!1),r=Object(s.a)(i,2),a=r[0],l=r[1],d=Object(c.useState)(!1),b=Object(s.a)(d,2),h=b[0],f=b[1],m=Object(c.useState)(!1),p=Object(s.a)(m,2),O=p[0],g=p[1],v=Object(c.useState)(!1),x=Object(s.a)(v,2),w=x[0],E=x[1],y=Object(c.useState)(!1),S=Object(s.a)(y,2),k=S[0],_=S[1],N=Object(c.useState)(!1),C=Object(s.a)(N,2),T=C[0],R=C[1],L=Object(c.useState)(""),P=Object(s.a)(L,2),D=P[0],I=P[1],F=Object(c.useState)(""),z=Object(s.a)(F,2),A=z[0],B=z[1],W=Object(c.useRef)(null),V=Object(c.useRef)(null),M=Object(c.useRef)(null),q=Object(c.useRef)(null),H=function(){E(!0);l(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(W.current.value))};return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("".concat(n.fetchProviderURL,"/users/signup"),{method:"POST",body:JSON.stringify({name:V.current.value,email:W.current.value,password:M.current.value,passwordConfirm:q.current.value}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong...");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);n.logIn({email:W.current.value,password:M.current.value,name:V.current.value}),B("Signend up successfully! Redirecting to home page..."),setTimeout((function(){t.push("/")}),1e3)})).catch((function(e){I(e.message)}))},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{for:"nameInput",children:"Your full name"}),Object(u.jsx)("input",{ref:V,id:"nameInput",type:"text",placeholder:"Your name"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{for:"emailInput",onChange:H,required:!0,children:"*Your email"}),Object(u.jsx)("input",{className:"\n            ".concat(!a&&w?"invalid":"","\n          "),ref:W,id:"emailInput",type:"email",placeholder:"Your E-mail",onChange:H})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{for:"passwordInput",children:"*Password"}),Object(u.jsx)("input",{className:"\n           ".concat(!h&&k?"invalid":"","\n          "),ref:M,id:"passwordInput",onChange:function(){_(!0),f(M.current.value.length>=8)},type:"password",required:!0})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"passwordConfirmInput",children:"*Confirm password"}),Object(u.jsx)("input",{className:"".concat(!O&&T?"invalid":"","\n          "),ref:q,onChange:function(){R(!0),g(q.current.value.length>=8&&q.current.value===M.current.value)},id:"passwordConfirmInput",type:"password",required:!0})]}),Object(u.jsx)("div",{children:A}),Object(u.jsx)("div",{style:{color:"red"},children:D}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Sign up"})})]})};n(38);var y=function(e){return Object(u.jsx)("div",{className:"UI-card",children:e.children})};var S=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),i=n[0],r=n[1],a=Object(c.useContext)(j).loggedIn,l=Object(o.f)();return Object(c.useEffect)((function(){a&&l.push("/")}),[]),Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)("h1",{className:"pageTitle",children:"Login"}),Object(u.jsxs)("div",{style:{position:"absolute",boxSizing:"border-box",padding:"3rem",left:"50%",top:"30vh",transform:"translateX(-50%)"},children:[Object(u.jsx)(y,{children:i?Object(u.jsx)(E,{}):Object(u.jsx)(w,{})}),i?Object(u.jsx)("b",{onClick:function(){return r(!1)},style:{marginTop:"1rem",cursor:"pointer",color:"#333",textDecoration:"underline"},children:"Already signed up? Sign in"}):Object(u.jsxs)("b",{onClick:function(){return r(!0)},style:{marginTop:"1rem",cursor:"pointer",color:"#333",textDecoration:"underline"},children:["Not signed up? Sign up"," "]})]})]})},k=n(9);n(39);function _(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function N(e,t,n){var c=t.getBoundingClientRect()[n];return"".concat(e/c*100,"%")}var C=function(e){var t=Object(c.useState)({left:0,top:0}),n=Object(s.a)(t,2),i=n[0],o=n[1],a=Object(c.useState)({left:0,top:0}),l=Object(s.a)(a,2),d=l[0],b=l[1],j=Object(c.useState)({active:!1,type:""}),h=Object(s.a)(j,2),f=h[0],m=h[1],p=function(e){var t=e.target.getBoundingClientRect(),n=e.touches[0].clientX-t.left,c=e.touches[0].clientY-t.top;o({left:n,top:c})},O=function(e,t){b({left:e.touches[0].clientX,top:e.touches[0].clientY}),m({active:!0,type:t})},g=function(t){var n={x:d.left,y:d.top};e.onElementDragEnd(n,t.target.closest(".builder__elements-element"),i),m({active:!1,type:""}),o({})},v=function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,c=e.clientY-t.top;o({left:n,top:c})},x=function(t){var n={x:t.clientX,y:t.clientY};e.onElementDragEnd(n,t.target.closest(".builder__elements-element"),i),o({})},w=r.a.createPortal(Object(u.jsx)("div",{style:{background:"black",padding:"2em",borderRadius:"50%",position:"absolute",left:d.left-i.left,top:d.top-i.top,zIndex:100,color:"white"},children:f.type}),document.getElementById("modals"));return Object(u.jsxs)("div",{ref:e.refFoward,style:{},className:"builder__elements ".concat(_()||e.isPreviewLandspace?"":"long"),children:[f.active&&w,Object(u.jsxs)("div",{draggable:!0,onDragStart:v,onDragEnd:x,onTouchStart:p,onTouchMove:function(e){return O(e,"image")},onTouchEnd:g,className:"builder__elements-element builder__elements-element-img",style:{background:"yellow"},children:["\ud83d\uddbcImage"," "]}),Object(u.jsx)("div",{draggable:!0,onDragStart:v,onDragEnd:x,onTouchStart:p,onTouchMove:function(e){return O(e,"link")},onTouchEnd:g,className:"builder__elements-element builder__elements-element-link",style:{background:"green"},children:"\ud83d\udd17Link"}),Object(u.jsx)("div",{draggable:!0,onDragStart:v,onDragEnd:x,onTouchStart:p,onTouchMove:function(e){return O(e,"button")},onTouchEnd:g,className:"builder__elements-element builder__elements-element-button",style:{background:"#65b0fc",color:"white"},children:"\ud83e\uddc8Button"}),Object(u.jsx)("div",{draggable:!0,onDragStart:v,onDragEnd:x,onTouchStart:p,onTouchMove:function(e){return O(e,"paragraph")},onTouchEnd:g,className:"builder__elements-element builder__elements-element-paragraph",style:{background:"cyan"},children:"\ud83d\udcc3Paragraph"}),Object(u.jsx)("div",{draggable:!0,onDragStart:v,onDragEnd:x,onTouchStart:p,onTouchMove:function(e){return O(e,"Title")},onTouchEnd:g,className:"builder__elements-element builder__elements-element-title",style:{background:"orange"},children:"\ud83d\udc4dTitle"}),Object(u.jsx)("div",{draggable:!0,onDragStart:v,onDragEnd:x,onTouchStart:p,onTouchMove:function(e){return O(e,"Background")},onTouchEnd:g,className:"builder__elements-element builder__elements-element-background",style:{padding:"4%",background:"purple",textAlign:"center"},children:"\ud83d\udcbbBackground"})]})},T=(n(40),{left:0,top:0}),R={left:0,top:0},L=function(e,t,n,c,i){var r=n.current.getBoundingClientRect().left,o=n.current.getBoundingClientRect().top;if(!(e.x<r||e.y<o)){var a=n.current.scrollTop,l=Math.max(0,e.x-r-T.left),s=Math.max(0,(e.y-o-T.top+a)*(100/c)),u=N(l,n.current,"width"),d=N(s,n.current,"height");i(t.id,u,d)}},P=function(e){var t=e.target.getBoundingClientRect();T.left=e.touches[0].clientX-t.left,T.top=e.touches[0].clientY-t.top},D=function(e,t){R.left=e.touches[0].clientX,R.top=e.touches[0].clientY},I=function(e){var t=e.target.getBoundingClientRect();T.left=e.clientX-t.left,T.top=e.clientY-t.top},F=function(e,t,n,c,i){var r={x:e.clientX,y:e.clientY};L(r,t,n,c,i)},z=function(e,t,n,c,i){var r={x:R.left,y:R.top};L(r,t,n,c,i)},A=function(e,t){var n;if(null===e||void 0===e?void 0:e.type)return"img"===e.type&&(n=function(e,t){var n;return Object(u.jsx)("img",{className:" preview__element ".concat((null===(n=t.currentElementEdited)||void 0===n?void 0:n.id)===e.id?"preview__element-active":""),style:{position:"absolute",top:e.top,cursor:"grab",left:e.left,zIndex:1,width:e.width,height:e.height},src:e.src||"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/1024px-React-icon.svg.png",alt:"",onClick:function(){t.onElementClick(e.id)},draggable:!0,onDragStart:function(e){I(e)},onDragEnd:function(n){F(n,e,t.refFoward,t.height,t.updatePreviewElement)},onTouchStart:function(e){P(e)},onTouchMove:function(e){return D(e)},onTouchEnd:function(n){z(0,e,t.refFoward,t.height,t.updatePreviewElement)}},e.id)}(e,t)),"link"===e.type&&(n=function(e,t){var n;return Object(u.jsx)("a",{className:"preview__element ".concat((null===(n=t.currentElementEdited)||void 0===n?void 0:n.id)===e.id?"preview__element-active":""),style:{position:"absolute",top:e.top,left:e.left,cursor:"grab",zIndex:1,width:e.width,height:e.height,fontFamily:"Poppins",color:e.color},alt:"",href:e.url||"#",onClick:function(n){n.preventDefault(),t.onElementClick(e.id)},draggable:!0,onDragStart:function(e){I(e)},onDragEnd:function(n){F(n,e,t.refFoward,t.height,t.updatePreviewElement)},onTouchStart:function(e){P(e)},onTouchMove:function(e){return D(e)},onTouchEnd:function(n){z(0,e,t.refFoward,t.height,t.updatePreviewElement)},children:e.title||"Some link"},e.id)}(e,t)),"button"===e.type&&(n=function(e,t){var n;return Object(u.jsx)("a",{className:"preview__element ".concat((null===(n=t.currentElementEdited)||void 0===n?void 0:n.id)===e.id?"preview__element-active":""),style:{position:"absolute",top:e.top,cursor:"grab",left:e.left,zIndex:1,fontFamily:"Poppins"},alt:"",href:e.url||"#",onClick:function(n){n.preventDefault(),t.onElementClick(e.id)},draggable:!0,onDragStart:function(e){I(e)},onDragEnd:function(n){F(n,e,t.refFoward,t.height,t.updatePreviewElement)},onTouchStart:function(e){P(e)},onTouchMove:function(e){return D(e)},onTouchEnd:function(n){z(0,e,t.refFoward,t.height,t.updatePreviewElement)},children:Object(u.jsx)("button",{draggable:!0,style:{fontFamily:"Poppins",padding:"0.6em 1em",color:e.color,background:e.background,cursor:"pointer",transition:"0.33s",fontWeight:"bolder",borderRadius:"0.5em",fontSize:e.fontSize||"1em"},children:e.title||"Some button"})},e.id)}(e,t)),"paragraph"===e.type&&(n=function(e,t){var n;return Object(u.jsx)("pre",{className:"preview__element ".concat((null===(n=t.currentElementEdited)||void 0===n?void 0:n.id)===e.id?"preview__element-active":""),style:{position:"absolute",top:e.top,cursor:"grab",left:e.left,zIndex:1,fontFamily:"Poppins",color:e.color},alt:"",onClick:function(){t.onElementClick(e.id)},draggable:!0,onDragStart:function(e){I(e)},onDragEnd:function(n){F(n,e,t.refFoward,t.height,t.updatePreviewElement)},onTouchStart:function(e){P(e)},onTouchMove:function(e){return D(e)},onTouchEnd:function(n){z(0,e,t.refFoward,t.height,t.updatePreviewElement)},children:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"A paragraph",t=e.split(""),n=0,c=0;c<t.length;c++)if(n++,13===e.charCodeAt(c)&&(n=0),32===e.charCodeAt(c)){if(n<30)continue;t[c]="\n",n=0}return t.join("")}(e.title)},e.id)}(e,t)),"title"===e.type&&(n=function(e,t){var n;return Object(u.jsx)("h1",{className:"preview__element ".concat((null===(n=t.currentElementEdited)||void 0===n?void 0:n.id)===e.id?"preview__element-active":""),style:{position:"absolute",top:e.top,cursor:"grab",left:e.left,zIndex:1,fontFamily:"Poppins",fontSize:"2rem",color:e.color},src:e.src,alt:"",onClick:function(){t.onElementClick(e.id)},draggable:!0,onDragStart:function(e){I(e)},onDragEnd:function(n){F(n,e,t.refFoward,t.height,t.updatePreviewElement)},onTouchStart:function(e){P(e)},onTouchMove:function(e){return D(e)},onTouchEnd:function(n){z(0,e,t.refFoward,t.height,t.updatePreviewElement)},children:e.title||"a title"},e.id)}(e,t)),"background"===e.type&&(n=function(e,t){var n;return Object(u.jsx)("div",{className:"preview__element ".concat((null===(n=t.currentElementEdited)||void 0===n?void 0:n.id)===e.id?"preview__element-active":""),style:{position:"absolute",top:e.top,cursor:"grab",left:e.left,width:e.width,height:e.height,zIndex:0,fontFamily:"Poppins",background:e.background,fontSize:"2rem"},onClick:function(){t.onElementClick(e.id)},draggable:!0,onDragStart:function(e){I(e)},onDragEnd:function(n){F(n,e,t.refFoward,t.height,t.updatePreviewElement)},onTouchStart:function(e){P(e)},onTouchMove:function(e){return D(e)},onTouchEnd:function(n){z(0,e,t.refFoward,t.height,t.updatePreviewElement)}},e.id)}(e,t)),n};var B=function(e){return Object(u.jsxs)("div",{onDragOver:function(e){e.preventDefault()},ref:e.refFoward,className:"builder__preview ".concat(_()||e.isPreviewLandspace?"long":""),children:[Object(u.jsx)("div",{className:"portrait",style:{position:"absolute",height:"".concat(e.height,"%"),width:"100%",top:"0",left:"0",display:"".concat(e.isPreviewLandspace?"none":"block"),overflowX:"hidden",overflowY:"".concat(e.height<=100?"hidden":"scroll")},children:e.elements.filter((function(e){return!1===e.forLandspace})).map((function(t){return A(t,e)}))}),Object(u.jsx)("div",{className:"landspace",style:{position:"absolute",height:"".concat(e.height,"%"),width:"100%",top:"0",left:"0",display:"".concat(e.isPreviewLandspace?"block":"none"),overflowX:"hidden",overflowY:"scroll"},children:e.elements.filter((function(e){return!0===e.forLandspace})).map((function(t){return A(t,e)}))})]})};n(41);var W=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),i=n[0],o=n[1];return Object(c.useEffect)((function(){o("fadeIn")}),[]),r.a.createPortal(Object(u.jsxs)("div",{className:"".concat(i),style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:"80%",height:"80vh",boxShadow:"0 0 2em rgba(0,0,0,0.3)",background:"white",border:"3px solid #333",overflowY:"scroll",overflowX:"none",zIndex:"1000",padding:"2em"},children:[Object(u.jsx)("span",{style:{position:"fixed",top:"2%",right:"2%",cursor:"pointer"},onClick:function(){e.setShowHelp(!1)},children:"\u274c"}),Object(u.jsx)("h1",{children:"Hello help"})]}),document.getElementById("modals"))};var V=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),i=Object(c.useRef)(null),r=Object(c.useRef)(null),o=Object(c.useRef)(null),a=Object(c.useRef)(null),l=Object(c.useContext)(j),d=Object(c.useState)({}),b=Object(s.a)(d,2),h=b[0],f=b[1];return Object(c.useEffect)((function(){var t={};Object.entries(e.currentElementEdited).forEach((function(e,n){var c=Object(s.a)(e,2),i=c[0],r=c[1];t[i]="string"===typeof r?(null===r||void 0===r?void 0:r.endsWith("%"))?Number.parseInt(r):r:null})),f(t)}),[e.currentElementEdited]),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault();var s=a.current.files[0];if(s){var u=new FormData;u.append("img",s),u.append("user","menachem"),fetch("".concat(l.fetchProviderURL,"/images/upload"),{method:"POST",body:u}).then((function(e){if(!e)throw new Error("Something went wrong...");return e.json()})).then((function(t){if("fail"===t.status)throw new Error(t.message);e.onFormSubmit({src:"".concat(l.fetchProviderURL,"/images/").concat(t.fileName),height:"".concat(n.current.value,"%"),width:"".concat(i.current.value,"%"),top:"".concat(r.current.value,"%"),left:"".concat(o.current.value,"%")})})).catch((function(e){console.log(e)}))}else e.onFormSubmit({src:t.current.value,height:"".concat(n.current.value,"%"),width:"".concat(i.current.value,"%"),top:"".concat(r.current.value,"%"),left:"".concat(o.current.value,"%")})},action:"http://localhost:8000/images/upload",method:"post",encType:"multipart/form-data",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Source(url):"}),Object(u.jsx)("input",{ref:t,defaultValue:h.src,type:"text",placeholder:"Image url"})]}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{name:"img",type:"file",accept:"images/*",ref:a})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Width:"}),Object(u.jsx)("input",{defaultValue:h.width,ref:i,type:"number",min:"0",max:"100",placeholder:"width(%)"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Height:"}),Object(u.jsx)("input",{defaultValue:h.height,ref:n,type:"number",min:"0",max:"100",placeholder:"height(%)"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Top:"}),Object(u.jsx)("input",{ref:r,defaultValue:h.top,type:"number",min:"0",max:"100"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Left:"}),Object(u.jsx)("input",{ref:o,defaultValue:h.left,type:"number",min:"0",max:"100"})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Save"})})]})};var M=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),i=Object(c.useRef)(null),r=Object(c.useRef)(null),o=Object(c.useRef)(null),a=Object(c.useState)({}),l=Object(s.a)(a,2),d=l[0],b=l[1],j=Object(c.useState)(!1),h=Object(s.a)(j,2),f=h[0],m=h[1];return Object(c.useEffect)((function(){var t={};Object.entries(e.currentElementEdited).forEach((function(e,n){var c=Object(s.a)(e,2),i=c[0],r=c[1];t[i]="string"===typeof r?(null===r||void 0===r?void 0:r.endsWith("%"))?Number.parseInt(r):r:null})),b(t)}),[e.currentElementEdited]),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault(),e.onFormSubmit({url:n.current.value,title:t.current.value,top:"".concat(i.current.value,"%"),left:"".concat(r.current.value,"%"),color:"".concat(f?o.current.value:d.color)})},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Title:"}),Object(u.jsx)("input",{ref:t,type:"text",defaultValue:d.title,placeholder:"title"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"URL:"}),Object(u.jsx)("input",{ref:n,type:"text",defaultValue:d.url,placeholder:"url"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Top:"}),Object(u.jsx)("input",{ref:i,defaultValue:d.top,type:"number",min:"0",max:"100"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Left:"}),Object(u.jsx)("input",{ref:r,defaultValue:d.left,type:"number",min:"0",max:"100"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{ref:o,onChange:function(){m(!0)},type:"color"})," "]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Save"})})]})};var q=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),i=Object(c.useRef)(null),r=Object(c.useRef)(null),o=Object(c.useRef)(null),a=Object(c.useRef)(null),l=Object(c.useRef)(null),d=Object(c.useState)({}),b=Object(s.a)(d,2),j=b[0],h=b[1],f=Object(c.useState)(!1),m=Object(s.a)(f,2),p=m[0],O=m[1],g=Object(c.useState)(!1),v=Object(s.a)(g,2),x=v[0],w=v[1];return Object(c.useEffect)((function(){var t={};Object.entries(e.currentElementEdited).forEach((function(e,n){var c=Object(s.a)(e,2),i=c[0],r=c[1];t[i]="string"===typeof r?(null===r||void 0===r?void 0:r.endsWith("%"))||(null===r||void 0===r?void 0:r.endsWith("em"))?+Number.parseFloat(r).toFixed(1):r:null})),h(t)}),[e.currentElementEdited]),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault(),e.onFormSubmit({url:t.current.value,title:n.current.value,top:"".concat(i.current.value,"%"),left:"".concat(r.current.value,"%"),color:"".concat(p?o.current.value:j.color),background:"".concat(x?a.current.value:j.background),fontSize:"".concat(l.current.value,"em")})},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Title:"}),Object(u.jsx)("input",{ref:n,type:"text",defaultValue:j.title,placeholder:"title"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"URL:"}),Object(u.jsx)("input",{ref:t,type:"text",defaultValue:j.url,placeholder:"url"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Top:"}),Object(u.jsx)("input",{ref:i,defaultValue:j.top,type:"number",min:"0",max:"100",step:"0.1"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Left:"}),Object(u.jsx)("input",{ref:r,defaultValue:j.left,type:"number",min:"0",max:"100",step:"0.1"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Font size:"}),Object(u.jsx)("input",{ref:l,defaultValue:j.fontSize,type:"number",min:"1",max:"7",step:"0.1"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Color: "}),Object(u.jsx)("input",{ref:o,onChange:function(){O(!0)},type:"color"})," "]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Background: "}),Object(u.jsx)("input",{ref:a,onChange:function(){w(!0)},type:"color"})," "]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Save"})})]})};var H=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),i=Object(c.useRef)(null),r=Object(c.useRef)(null),o=Object(c.useState)({}),a=Object(s.a)(o,2),l=a[0],d=a[1],b=Object(c.useState)(!1),j=Object(s.a)(b,2),h=j[0],f=j[1];return Object(c.useEffect)((function(){var t={};Object.entries(e.currentElementEdited).forEach((function(e,n){var c=Object(s.a)(e,2),i=c[0],r=c[1];t[i]="string"===typeof r?(null===r||void 0===r?void 0:r.endsWith("%"))?Number.parseInt(r):r:null})),d(t)}),[e.currentElementEdited]),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault(),e.onFormSubmit({title:t.current.value,top:"".concat(n.current.value,"%"),left:"".concat(i.current.value,"%"),color:"".concat(h?r.current.value:l.color)})},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Text:"}),Object(u.jsx)("input",{ref:t,defaultValue:l.title,type:"text",placeholder:"title"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Top:"}),Object(u.jsx)("input",{ref:n,defaultValue:l.top,type:"number",min:"0",max:"100"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Left:"}),Object(u.jsx)("input",{ref:i,defaultValue:l.left,type:"number",min:"0",max:"100"})]}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{ref:r,onChange:function(){f(!0)},type:"color"})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Save"})})]})};var U=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),i=Object(c.useRef)(null),r=Object(c.useRef)(null),o=Object(c.useState)({}),a=Object(s.a)(o,2),l=a[0],d=a[1],b=Object(c.useState)(!1),j=Object(s.a)(b,2),h=j[0],f=j[1];return Object(c.useEffect)((function(){var t={};Object.entries(e.currentElementEdited).forEach((function(e,n){var c=Object(s.a)(e,2),i=c[0],r=c[1];t[i]="string"===typeof r?(null===r||void 0===r?void 0:r.endsWith("%"))?Number.parseInt(r):r:null})),d(t)}),[e.currentElementEdited]),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault(),e.onFormSubmit({title:t.current.value,top:"".concat(n.current.value,"%"),left:"".concat(i.current.value,"%"),color:"".concat(h?r.current.value:l.color)})},children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{ref:t,defaultValue:l.title,type:"text",placeholder:"Text..."})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Top:"}),Object(u.jsx)("input",{ref:n,defaultValue:l.top,type:"number",min:"0",max:"100"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Left:"}),Object(u.jsx)("input",{ref:i,defaultValue:l.left,type:"number",min:"0",max:"100"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{ref:r,onChange:function(){f(!0)},type:"color"})," "]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Save"})})]})};var Y=function(e){var t=Object(c.useRef)(null),n=Object(c.useRef)(null),i=Object(c.useRef)(null),r=Object(c.useRef)(null),o=Object(c.useRef)(null),a=Object(c.useState)({}),l=Object(s.a)(a,2),d=l[0],b=l[1],j=Object(c.useState)(!1),h=Object(s.a)(j,2),f=h[0],m=h[1];return Object(c.useEffect)((function(){var t={};Object.entries(e.currentElementEdited).forEach((function(e,n){var c=Object(s.a)(e,2),i=c[0],r=c[1];t[i]="string"===typeof r?(null===r||void 0===r?void 0:r.endsWith("%"))?Number.parseInt(r):r:null})),b(t)}),[e.currentElementEdited]),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault(),e.onFormSubmit({height:"".concat(t.current.value,"%"),width:"".concat(n.current.value,"%"),top:"".concat(i.current.value,"%"),left:"".concat(r.current.value,"%"),background:"".concat(f?o.current.value:d.background)})},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Width:"}),Object(u.jsx)("input",{ref:n,type:"number",min:"0",max:"100",defaultValue:d.width})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Height:"}),Object(u.jsx)("input",{ref:t,type:"number",min:"0",max:"100",defaultValue:d.height})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Top:"}),Object(u.jsx)("input",{ref:i,defaultValue:d.top,type:"number",min:"0",max:"100"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Left:"}),Object(u.jsx)("input",{ref:r,defaultValue:d.left,type:"number",min:"0",max:"100"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{children:"Background:"}),Object(u.jsx)("input",{ref:o,onChange:function(){m(!0)},type:"color"})," "]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Save"})})]})};var J=function(e){var t,n,c,i,o,a;return r.a.createPortal(Object(u.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",boxShadow:"0 0 2em rgba(0,0,0,0.3)",background:"white",border:"3px solid #333",overflowY:"scroll",overflowX:"none",zIndex:"1000"},children:[Object(u.jsxs)(y,{children:["img"===(null===(t=e.data.currentElementEdited)||void 0===t?void 0:t.type)&&Object(u.jsx)(V,{currentElementEdited:e.data.currentElementEdited,onFormSubmit:e.handleFormSubmit}),"link"===(null===(n=e.data.currentElementEdited)||void 0===n?void 0:n.type)&&Object(u.jsx)(M,{currentElementEdited:e.data.currentElementEdited,onFormSubmit:e.handleFormSubmit}),"button"===(null===(c=e.data.currentElementEdited)||void 0===c?void 0:c.type)&&Object(u.jsx)(q,{currentElementEdited:e.data.currentElementEdited,onFormSubmit:e.handleFormSubmit}),"title"===(null===(i=e.data.currentElementEdited)||void 0===i?void 0:i.type)&&Object(u.jsx)(H,{currentElementEdited:e.data.currentElementEdited,onFormSubmit:e.handleFormSubmit}),"paragraph"===(null===(o=e.data.currentElementEdited)||void 0===o?void 0:o.type)&&Object(u.jsx)(U,{currentElementEdited:e.data.currentElementEdited,onFormSubmit:e.handleFormSubmit}),"background"===(null===(a=e.data.currentElementEdited)||void 0===a?void 0:a.type)&&Object(u.jsx)(Y,{currentElementEdited:e.data.currentElementEdited,onFormSubmit:e.handleFormSubmit})]}),Object(u.jsx)("div",{style:{position:"absolute",right:"1%",bottom:"1%",fontSize:"2em",cursor:"pointer"},onClick:e.onCloseEditor,children:"\u274c"})]}),document.getElementById("modals"))};var Z=function(e){var t,n=null===(t=e.currentElementEdited)||void 0===t?void 0:t.type,i=Object(c.useState)(!1),r=Object(s.a)(i,2),o=r[0],a=r[1],d=Object(c.useState)(!1),b=Object(s.a)(d,2),j=b[0],h=b[1],f=Object(c.useState)(window.innerWidth<window.innerHeight),m=Object(s.a)(f,2),p=m[0],O=m[1];return Object(c.useEffect)((function(){setInterval((function(){O(window.innerWidth<window.innerHeight)}),2e3)}),[]),Object(u.jsxs)("div",{className:"builder__menu",style:{borderBottom:"ridge 3px lightBlue"},children:[!_()&&Object(u.jsx)("div",{onClick:function(){e.onSetIsPreviewLandspace(!e.isPreviewLandspace)},style:{position:"absolute",zIndex:"2",right:"1%",top:"102%",fontSize:"2.5em",cursor:"pointer",WebkitTextStroke:" 2px lightBlue"},children:e.isPreviewLandspace?"\ud83d\udcf1":Object(u.jsx)("div",{style:{transform:"rotate(90deg)"},children:"\ud83d\udcf1"})}),_()&&Object(u.jsx)("div",{style:{position:"absolute",zIndex:"2",right:"1%",top:"102%",fontSize:"2.5em",WebkitTextStroke:" 2px lightBlue"},children:e.isPreviewLandspace?Object(u.jsx)("div",{style:{transform:"rotate(90deg)"},children:"\ud83d\udcf1"}):"\ud83d\udcf1"}),o&&Object(u.jsx)(W,{setShowHelp:a}),j&&Object(u.jsx)(J,{onCloseEditor:function(){h(!1)},handleFormSubmit:function(t){h(!1),e.onElementEdited(t)},data:e}),Object(u.jsx)("div",{className:"builder__menu__element-edit-menu",children:Object(u.jsx)("b",{style:{cursor:"pointer"},onClick:function(){n&&h(!0)},children:n?"\u270d":_()?"\ud83d\ude80":"No element was chosen!"})}),Object(u.jsx)("div",{className:"builder__menu__delete-element",onClick:e.onDeleteElement,children:e.currentElementEdited?"\u26d4":Object(u.jsx)("p",{onClick:function(){return a(!0)},children:"\u2754"})}),Object(u.jsx)("div",{className:"builder__menu__step-back",onClick:e.onStepBack,children:"\u25c0 Step Back"}),Object(u.jsx)("div",{className:"builder__menu__save",onClick:e.onSave,children:e.savingLoading?"\u23f3 ".concat(p?"":"Loading..."):"\ud83d\udcbe  ".concat(p?"":"Save")}),Object(u.jsx)("div",{className:"builder__menu__preview",onClick:e.onPreview,children:"\ud83d\udc41 Preview"}),Object(u.jsxs)("div",{className:"builder__menu__publish-button",children:[Object(u.jsx)("b",{onClick:e.goPublic,children:e.publishingLoading?"\u23f3 ".concat(p?"":"Loading..."):"\ud83c\udf10  ".concat(p?"":"Go Public")}),e.publishedWebsiteURL&&Object(u.jsx)(l.b,{to:e.publishedWebsiteURL,target:"_blank",children:"".concat(p?"\ud83d\udd17":"\ud83d\udd17Visit")})]}),Object(u.jsx)("div",{className:"builder__menu__delete",onClick:function(){e.existingWebsite&&e.onDelete()},children:e.deletingLoading?"\u23f3 ".concat(p?"":"Loading..."):e.existingWebsite?"".concat(p?"\u274c":"\u274c Delete website"):"\ud83c\udf7e"}),Object(u.jsxs)("div",{className:"builder__menu__height",children:["Height(%)",Object(u.jsx)("input",{type:"number",ref:e.refHeightSetInput,onChange:e.onSetHeight,value:e.height,style:{width:"50%",background:"rgba(3,3,3,0.3)",color:"white"},step:"10",min:"100",max:"1000"})]})]})};n(42);var X=function(e){var t=Object(c.useContext)(j),n=Object(o.g)(),i=Object(o.f)(),r=Object(c.useState)(""),l=Object(s.a)(r,2),d=l[0],b=l[1],h=Object(c.useState)([]),f=Object(s.a)(h,2),m=f[0],p=f[1],O=Object(c.useState)(null),g=Object(s.a)(O,2),v=g[0],x=g[1],w=Object(c.useState)([]),E=Object(s.a)(w,2),y=E[0],S=E[1],T=Object(c.useState)(""),R=Object(s.a)(T,2),L=R[0],P=R[1],D=Object(c.useState)(!1),I=Object(s.a)(D,2),F=I[0],z=I[1],A=Object(c.useState)(!1),W=Object(s.a)(A,2),V=W[0],M=W[1],q=Object(c.useState)(!1),H=Object(s.a)(q,2),U=H[0],Y=H[1],J=Object(c.useState)(!0),X=Object(s.a)(J,2),$=X[0],G=X[1],K=Object(c.useState)(100),Q=Object(s.a)(K,2),ee=Q[0],te=Q[1],ne=Object(c.useRef)(null),ce=Object(c.useRef)(null),ie=Object(c.useRef)(null);Object(c.useEffect)((function(){return window.addEventListener("keydown",(function(e){46===e.keyCode&&oe()})),t.loggedIn||i.push("/login"),Y(!1),z(!1),M(!1),x(null),_()&&(setInterval((function(){G(window.innerWidth>window.innerHeight)}),1e3),window.addEventListener("orientationchange",(function(){G(window.innerWidth>window.innerHeight)}))),n.id?(fetch("/web/elements/".concat(n.id)).then((function(e){if(!e)throw new Error("Something went wrong");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);te(+(null===e||void 0===e?void 0:e.data.previewElements.height));var t=JSON.parse(null===e||void 0===e?void 0:e.data.previewElements.previewElements);p(t),S([t])})).catch((function(e){return console.log(e)})),b(n.id),P("/web/".concat(n.id))):(b(""),P(""),p([]),S([])),function(){b(""),p([]),x(null),S([]),P(""),z(!1),M(!1),Y(!1),G(!0),te(100)}}),[n]);var re=function(){var e=m.map((function(e){return Object(k.a)({},e)}));S((function(t){return[e].concat(Object(a.a)(t))}))},oe=function(){if(v){var e=m.filter((function(e){return e.id!==v.id}));re(),p(Object(a.a)(e)),x(null)}};return Object(u.jsxs)("div",{className:"builder page",children:[Object(u.jsx)(Z,{refHeightSetInput:ie,height:ee,isPreviewLandspace:$,onSetIsPreviewLandspace:function(e){G(e)},existingWebsite:d,publishingLoading:F,savingLoading:V,deletingLoading:U,publishedWebsiteURL:L,onDeleteElement:oe,onDelete:function(){Y(!0),x(null),fetch("".concat(t.fetchProviderURL,"/web/").concat(d),{method:"DELETE",body:JSON.stringify({password:t.password,email:t.email}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);i.push("/builder")})).catch((function(e){return e.message}))},onElementEdited:function(e){var t={};Object.entries(e).forEach((function(e,n){var c=Object(s.a)(e,2),i=c[0],r=c[1];r&&(t[i]=r)}));var n=Object(k.a)(Object(k.a)({},v),t);x(n);var c=m.map((function(e){return e.id===n.id?Object(k.a)({},n):e}));re(),p(Object(a.a)(c)),x(null)},onSetHeight:function(){var e=+ie.current.value,t=ee/e,n=m.map((function(e){var n="".concat(+Number.parseFloat(e.top)*t,"%"),c="".concat(+Number.parseFloat(e.height)*t,"%");return Object(k.a)(Object(k.a)({},e),{},{top:n,height:c})}));p(n),te(e)},onStepBack:function(){p(y[0]||[]),y.length>1&&S((function(e){return e.slice(1)}))},onPreview:function(){x(null),window.open("","preview").document.write(ne.current.innerHTML)},onSave:function(){M(!0),x(null),fetch("".concat(d?"/web/".concat(d):"/web/"),{method:"".concat(d?"PATCH":"POST"),body:JSON.stringify({public:!1,password:t.password,email:t.email,height:ee,html:ne.current.innerHTML,previewElements:JSON.stringify(m)}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);i.push("/builder/".concat(e.id))})).catch((function(e){return console.log(e)}))},goPublic:function(){z(!0),x(null),fetch("".concat(d?"/web/".concat(d):"/web/"),{method:"".concat(d?"PATCH":"POST"),body:JSON.stringify({public:!0,password:t.password,email:t.email,height:ee,html:ne.current.innerHTML,previewElements:JSON.stringify(m)}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);i.push("/builder/".concat(e.id))})).catch((function(e){return console.log(e)}))},currentElementEdited:v}),Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)(C,{isPreviewLandspace:$,refFoward:ce,onElementDragEnd:function(e,t,n){var c=ne.current.getBoundingClientRect().left,i=ne.current.getBoundingClientRect().top;if(!(e.x<c||e.y<i)){var r=ne.current.scrollTop,o=Math.max(0,e.x-c-n.left),l=Math.max(0,(e.y-i-n.top+r)*(100/ee)),s=t.className.split("-")[t.className.split("-").length-1],u=t.getBoundingClientRect().width,d=t.getBoundingClientRect().height,b=t.style.background,j="img"===s,h={id:String(100*Math.random()),top:N(l,ne.current,"height"),left:N(o,ne.current,"width"),type:s,width:j?"25%":N(u,ne.current,"width"),height:j?void 0:N(d,ne.current,"height"),background:b,forLandspace:$};re(),p((function(e){return[].concat(Object(a.a)(e),[h])}))}}}),Object(u.jsx)(B,{updatePreviewElement:function(e,t,n){var c=m.map((function(c){return c.id===e?Object(k.a)(Object(k.a)({},c),{},{left:t,top:n}):c}));re(),p(Object(a.a)(c)),x(null)},height:ee,isPreviewLandspace:$,currentElementEdited:v,refFoward:ne,onElementClick:function(e){var t=m.find((function(t){return(null===t||void 0===t?void 0:t.id)===e}));x(Object(k.a)({},t))},elements:m})]})]})};n(43),n(44);var $=function(e){var t=e.website,n=t.html,c=t._id,i="\n  <style>\n  .landspace{display:block}\n  .portrait{display:none}\n  </style>\n  ".concat(n.replace(/&lt;/g,"<"));return Object(u.jsxs)("div",{className:"iframe-widget",children:[Object(u.jsx)("iframe",{title:c,srcDoc:i}),Object(u.jsx)(l.b,{className:"iframe-widget__link",to:"/web/".concat(c),target:"_blank",children:"Visit website"}),Object(u.jsx)("br",{}),Object(u.jsx)(l.c,{className:"iframe-widget__link",to:"/builder/".concat(c),children:"Edit"})]})};var G=function(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),i=n[0],r=n[1],a=Object(c.useContext)(j),l=Object(o.f)(),d=a.password,b=a.email;return Object(c.useEffect)((function(){a.loggedIn||l.push("/login")}),[]),Object(c.useState)((function(){fetch("".concat(a.fetchProviderURL,"/web/list"),{method:"POST",body:JSON.stringify({password:d,email:b}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);r(e.data.websitesList)})).catch((function(e){console.error(e)}))}),[]),Object(u.jsxs)("div",{className:"websites-list",children:[Object(u.jsx)("h1",{className:"pageTitle",children:"Websites list"}),i.map((function(e){return Object(u.jsx)($,{website:e},1e5*Math.random())}))]})};n(45),n(46);var K=function(e){var t=Object(c.useContext)(j),n=Object(c.useState)(""),i=Object(s.a)(n,2),r=i[0],o=i[1],a=Object(c.useRef)(null);return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.data.user}),Object(u.jsx)("td",{className:"delete",children:Object(u.jsx)("button",{onClick:function(){fetch("".concat(t.fetchProviderURL,"/admin/user/"),{method:"DELETE",body:JSON.stringify({email:t.email,password:t.password,userEmail:e.data.user}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong...");return e.json()})).then((function(t){if("fail"===t.status)throw new Error(t.message);e.onchange()})).catch((function(e){return console.error(e)}))},children:"Delete user"})}),Object(u.jsx)("td",{children:Object(u.jsxs)("select",{ref:a,onChange:function(){o(a.current.value)},children:[Object(u.jsx)("option",{value:"",children:"Select website"}),e.data.websites.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.id})}))]})}),Object(u.jsx)("td",{className:"delete",children:Object(u.jsx)("button",{onClick:function(){fetch("".concat(t.fetchProviderURL,"/admin/web/").concat(r),{method:"DELETE",body:JSON.stringify({email:t.email,password:t.password}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong...");return e.json()})).then((function(t){if("fail"===t.status)throw new Error(t.message);e.onchange()})).catch((function(e){return console.error(e)}))},children:"Delete website"})}),Object(u.jsxs)("td",{children:[" ",Object(u.jsx)(l.b,{to:r&&"/web/".concat(r),target:"_blank",children:Object(u.jsx)("button",{children:"Visit website"})})]})]})};var Q=function(e){return Object(u.jsxs)("table",{className:"adminTable",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"User's email"}),Object(u.jsx)("td",{className:"delete",children:"Delete user"}),Object(u.jsx)("td",{children:"Select website"}),Object(u.jsx)("td",{className:"delete",children:"Delete website"}),Object(u.jsx)("td",{children:"Visit website"})]})}),Object(u.jsx)("tbody",{children:e.users.map((function(t){return Object(u.jsx)(K,{onchange:e.onchange,data:t})}))})]})};var ee=function(e){var t=Object(c.useContext)(j),n=Object(o.f)(),i=Object(c.useState)(!1),r=Object(s.a)(i,2),a=r[0],l=r[1],d=Object(c.useState)(!1),b=Object(s.a)(d,2),h=b[0],f=b[1],m=Object(c.useState)([]),p=Object(s.a)(m,2),O=p[0],g=p[1],v=function(){fetch("".concat(t.fetchProviderURL,"/admin"),{method:"POST",body:JSON.stringify({email:t.email,password:t.password}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong");return e.json()})).then((function(e){g(e.data)})).catch((function(e){console.error(e)}))};return Object(c.useEffect)((function(){t.loggedIn||n.push("/login"),v()}),[]),Object(u.jsxs)("div",{className:"account",children:[Object(u.jsx)("h1",{className:"pageTitle",children:"Account"}),Object(u.jsxs)("center",{children:[Object(u.jsx)("button",{onClick:function(){l("Logging out..."),setTimeout((function(){t.logOut(),n.push("/")}),1e3)},children:"Logout"}),Object(u.jsx)("button",{onClick:function(){if("Are you sure?"!==a)return l("Are you sure?");setTimeout((function(){fetch("".concat(t.fetchProviderURL,"/users/delete"),{method:"DELETE",body:JSON.stringify({email:t.email,password:t.password}),headers:{"Content-type":"Application/json"}}).then((function(e){if(!e)throw new Error("Something went wrong...");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);l("Deleting account..."),setTimeout((function(){n.push("/"),t.logOut()}),1e3)})).catch((function(e){f(e.message)}))}),1e3)},children:"Delete"}),a,Object(u.jsx)("div",{style:{color:"red"},children:h}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),_()?Object(u.jsx)("p",{children:"Admin panel is not available on mobile"}):O.length>0&&Object(u.jsx)(Q,{onchange:v,users:O}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})]})};var te=function(e){return Object(u.jsx)("div",{className:"not-found",children:Object(u.jsx)("h1",{children:"NotFound"})})};var ne=function(){var e=Object(c.useContext)(j),t=Object(o.g)();return document.write(),Object(c.useEffect)((function(){fetch("".concat(e.fetchProviderURL,"/web/").concat(t.id)).then((function(e){if(!e)throw new Error("Something went wrong");return e.json()})).then((function(e){if("fail"===e.status)throw new Error(e.message);document.write(e.html);var t=function(){window.innerHeight>window.innerWidth?(document.querySelectorAll(".portrait").forEach((function(e){e.style.display="block"})),document.querySelectorAll(".landspace").forEach((function(e){e.style.display="none"}))):(document.querySelectorAll(".portrait").forEach((function(e){e.style.display="none"})),document.querySelectorAll(".landspace").forEach((function(e){e.style.display="block"})))};t(),setInterval(t,1e3),window.addEventListener("orientationchange",t)})).catch((function(e){return console.error(e)}))}),[]),Object(u.jsx)(u.Fragment,{})};var ce=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/",exact:!0,children:Object(u.jsx)(h,{})}),Object(u.jsx)(o.a,{path:"/about",children:Object(u.jsx)(x,{})}),Object(u.jsx)(o.a,{path:"/login",children:Object(u.jsx)(S,{})}),Object(u.jsx)(o.a,{path:"/builder/:id?",children:Object(u.jsx)(X,{})}),Object(u.jsx)(o.a,{path:"/websites-list",children:Object(u.jsx)(G,{})}),Object(u.jsx)(o.a,{path:"/account",children:Object(u.jsx)(ee,{})}),Object(u.jsx)(o.a,{path:"/web/:id",children:Object(u.jsx)(ne,{})}),Object(u.jsx)(o.a,{path:"/",children:Object(u.jsx)(te,{})})]})]})};r.a.render(Object(u.jsx)(b,{children:Object(u.jsx)(l.a,{children:Object(u.jsx)(ce,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.91b2f20b.chunk.js.map